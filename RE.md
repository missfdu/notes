## 逆向入门

### 常见题型

- 暴力破解：修改汇编代码跳过最终校验（打补丁）
- 算法破解：逆向分析其程序加密部分汇编代码，还原加密算法实现过程，编写出对应解密程序，算出flag

### 解题流程

1. 突破保护：去混淆、脱壳、反反调试
2. 定位关键代码：结合IDA和OD快速定位
3. 动静结合：IDA生成伪码静态分析，结合OD动态调试验证猜想
4. 破解验证算法

### 所需基础

- 知识：汇编语言、C语言、脚本语言、Windows核心编程(掌握常用API)、PE文件格式、PE文件格式、程序加载流程、各种过保护手段
- 工具：查壳工具（DIE、PEID、EXEINFO、LordPE、ResourceHacker等）、常用脱壳工具或脱壳脚本（专属壳的脱壳器例如upx等、各种壳的脱壳脚本）、十六进制编辑器（010Editor、winhex等）、反汇编工具（IDA、Hopper）、调试器（Ollydbg、gdb、windbg等）

### 定位验证代码

## Linux ELF

三种类型:

- 可重定位文件（Relocatable file）：包含了代码和数据，可以和其他目标文件链接生成一个可执行文件或共享目标文件。

- 可执行文件（Executable File）：包含了可以直接执行的文件

- 共享目标文件（Shared Object File）：包含了用于链接的代码和数据，分两种情况。一种是链接器将其与其他的可重定位文件和共享目标文件链接起来，生产新的目标文件。另一种是动态链接器将多个共享目标文件与可执行文件结合，作为进程映像的一部分。

![ELF文件结构](https://gblobscdn.gitbook.com/assets%2F-MGvsJHYreZx4FTJt1gV%2Fsync%2F31cf4bab9a0eb29780d7ce72686fcce50e6e8801.png?alt=media)

- 开头是一个“文件头”
- 代码段(`.text section`)，存放机器指令
- 数据段(`.data section`)，存放已初始化的全局变量和局部静态变量
- `.bss段`，为未初始化的全局变量和局部静态变量预留位置，没有`CONTENTS`属性

把指令和数据分开存放的好处：从安全的角度，数据和指令分别被映射到两个虚拟区域，数据区域对进程可读写，指令区域对进程只读，防止指令被改写和利用。